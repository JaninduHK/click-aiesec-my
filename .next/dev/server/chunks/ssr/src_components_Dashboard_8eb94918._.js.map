{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/janinduhansaka/Documents/click.aiesec.my/src/components/Dashboard/CopyButton.tsx"],"sourcesContent":["\"use client\";\n\nimport toast from \"react-hot-toast\";\n\ntype Props = {\n  value: string;\n  label?: string;\n  className?: string;\n};\n\nconst CopyButton = ({ value, label = \"Copy\", className }: Props) => {\n  const handleCopy = async () => {\n    try {\n      await navigator.clipboard.writeText(value);\n      toast.success(\"Copied to clipboard\");\n    } catch (error: any) {\n      toast.error(error?.message || \"Unable to copy\");\n    }\n  };\n\n  return (\n    <button\n      onClick={handleCopy}\n      className={`rounded-lg border border-stroke px-3 py-1 text-xs font-medium hover:border-primary hover:text-primary dark:border-dark-3 dark:hover:border-primary ${className || \"\"}`}\n    >\n      {label}\n    </button>\n  );\n};\n\nexport default CopyButton;\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUA,MAAM,aAAa,CAAC,EAAE,KAAK,EAAE,QAAQ,MAAM,EAAE,SAAS,EAAS;IAC7D,MAAM,aAAa;QACjB,IAAI;YACF,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC;YACpC,kKAAK,CAAC,OAAO,CAAC;QAChB,EAAE,OAAO,OAAY;YACnB,kKAAK,CAAC,KAAK,CAAC,OAAO,WAAW;QAChC;IACF;IAEA,qBACE,8OAAC;QACC,SAAS;QACT,WAAW,CAAC,mJAAmJ,EAAE,aAAa,IAAI;kBAEjL;;;;;;AAGP;uCAEe"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///Users/janinduhansaka/Documents/click.aiesec.my/src/components/Dashboard/ShortnerForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport CopyButton from \"./CopyButton\";\n\nexport default function ShortnerForm() {\n  const router = useRouter();\n  const [formData, setFormData] = useState({\n    destination: \"\",\n    slug: \"\",\n    title: \"\",\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [createdLink, setCreatedLink] = useState<string | null>(null);\n\n  const generateSlug = () => {\n    const randomSlug = Math.random().toString(36).substring(2, 8);\n    setFormData({ ...formData, slug: randomSlug });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(\"\");\n\n    try {\n      // Generate random slug if not provided\n      const slugToUse = formData.slug || Math.random().toString(36).substring(2, 8);\n\n      const response = await fetch(\"/api/shortlinks\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          ...formData,\n          slug: slugToUse,\n        }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || \"Failed to create link\");\n      }\n\n      setCreatedLink(`https://click.aiesec.my/${data.slug}`);\n      setFormData({ destination: \"\", slug: \"\", title: \"\" });\n    } catch (err: any) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"grid grid-cols-1 gap-9\">\n      {/* Form */}\n      <div className=\"flex flex-col gap-9\">\n        <div className=\"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark\">\n          <div className=\"border-b border-stroke px-6.5 py-4 dark:border-strokedark\">\n            <h3 className=\"font-medium text-black dark:text-white\">\n              Link Details\n            </h3>\n          </div>\n          <form onSubmit={handleSubmit}>\n            <div className=\"p-6.5\">\n              {error && (\n                <div className=\"mb-4 rounded-md bg-danger bg-opacity-10 p-4\">\n                  <p className=\"text-sm text-danger\">{error}</p>\n                </div>\n              )}\n\n              {createdLink && (\n                <div className=\"mb-6 rounded-md border border-success bg-success bg-opacity-10 p-4\">\n                  <p className=\"mb-2 text-sm font-medium text-success\">\n                    Link created successfully!\n                  </p>\n                  <div className=\"flex items-center gap-2\">\n                    <input\n                      type=\"text\"\n                      value={createdLink}\n                      readOnly\n                      className=\"flex-1 rounded-md border border-stroke bg-white px-4 py-2 text-black dark:border-strokedark dark:bg-boxdark dark:text-white\"\n                    />\n                    <CopyButton value={createdLink} />\n                  </div>\n                  <div className=\"mt-4 flex gap-2\">\n                    <button\n                      type=\"button\"\n                      onClick={() => router.push(\"/dashboard/links\")}\n                      className=\"rounded-md border border-stroke px-4 py-2 text-sm font-medium text-black hover:shadow-1 dark:border-strokedark dark:text-white\"\n                    >\n                      View All Links\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={() => setCreatedLink(null)}\n                      className=\"rounded-md bg-primary px-4 py-2 text-sm font-medium text-white hover:bg-opacity-90\"\n                    >\n                      Create Another\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              <div className=\"mb-4.5\">\n                <label className=\"mb-2.5 block text-black dark:text-white\">\n                  Destination URL <span className=\"text-meta-1\">*</span>\n                </label>\n                <input\n                  type=\"url\"\n                  required\n                  placeholder=\"https://example.com/your-long-url\"\n                  value={formData.destination}\n                  onChange={(e) =>\n                    setFormData({ ...formData, destination: e.target.value })\n                  }\n                  className=\"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary\"\n                />\n              </div>\n\n              <div className=\"mb-4.5\">\n                <label className=\"mb-2.5 block text-black dark:text-white\">\n                  Custom Slug (Optional)\n                </label>\n                <div className=\"flex gap-2\">\n                  <div className=\"relative flex-1\">\n                    <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-bodydark\">\n                      /\n                    </span>\n                    <input\n                      type=\"text\"\n                      placeholder=\"custom-slug\"\n                      value={formData.slug}\n                      onChange={(e) =>\n                        setFormData({\n                          ...formData,\n                          slug: e.target.value.toLowerCase().replace(/[^a-z0-9-]/g, \"\"),\n                        })\n                      }\n                      className=\"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 pl-8 pr-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary\"\n                    />\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={generateSlug}\n                    className=\"rounded border border-stroke bg-gray px-4 py-2 text-sm font-medium text-black hover:shadow-1 dark:border-strokedark dark:bg-meta-4 dark:text-white\"\n                  >\n                    Generate\n                  </button>\n                </div>\n                <p className=\"mt-1 text-xs text-bodydark\">\n                  Leave empty to auto-generate a random slug\n                </p>\n              </div>\n\n              <div className=\"mb-6\">\n                <label className=\"mb-2.5 block text-black dark:text-white\">\n                  Title (Optional)\n                </label>\n                <input\n                  type=\"text\"\n                  placeholder=\"My Campaign Link\"\n                  value={formData.title}\n                  onChange={(e) =>\n                    setFormData({ ...formData, title: e.target.value })\n                  }\n                  className=\"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary\"\n                />\n              </div>\n\n              <button\n                type=\"submit\"\n                disabled={loading || !formData.destination}\n                className=\"flex w-full justify-center rounded bg-primary p-3 font-medium text-gray disabled:cursor-not-allowed disabled:opacity-50\"\n              >\n                {loading ? \"Creating...\" : \"Create Short Link\"}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}