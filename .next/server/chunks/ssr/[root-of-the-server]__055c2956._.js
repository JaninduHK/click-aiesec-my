module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},17537,a=>{a.n(a.i(3363))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},15843,a=>{a.n(a.i(18357))},64835,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/Dashboard/AnalyticsDashboard.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/Dashboard/AnalyticsDashboard.tsx <module evaluation>","default");a.s(["default",0,b])},52022,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/Dashboard/AnalyticsDashboard.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/Dashboard/AnalyticsDashboard.tsx","default");a.s(["default",0,b])},38530,a=>{"use strict";a.i(64835);var b=a.i(52022);a.n(b)},99123,a=>a.a(async(b,c)=>{try{var d=a.i(7997),e=a.i(20971),f=a.i(27659),g=a.i(26911),h=a.i(38530),i=b([f,g]);async function j(){let a=await (0,e.getServerSession)(g.authOptions),b=a?.user?.role==="ADMIN",c=b?{}:{userId:a?.user?.id},i=b?{}:{shortLink:{userId:a?.user?.id}},j=new Date,k=new Date(j.getTime()-864e5),l=new Date(j.getTime()-6048e5);j.getTime();let[m,n,o,p,q,r,s,t,u,v]=await Promise.all([f.prisma.shortLink.count({where:c}),f.prisma.clickEvent.count({where:i}),f.prisma.clickEvent.count({where:{...i,createdAt:{gte:k}}}),f.prisma.clickEvent.count({where:{...i,createdAt:{gte:l}}}),f.prisma.shortLink.findMany({where:c,take:10,orderBy:{clickEvents:{_count:"desc"}},include:{_count:{select:{clickEvents:!0}}}}),f.prisma.clickEvent.groupBy({by:["country"],where:{...i,country:{not:null}},_count:!0,orderBy:{_count:{country:"desc"}},take:10}),f.prisma.clickEvent.groupBy({by:["device"],where:{...i,device:{not:null}},_count:!0,orderBy:{_count:{device:"desc"}}}),f.prisma.clickEvent.groupBy({by:["browser"],where:{...i,browser:{not:null}},_count:!0,orderBy:{_count:{browser:"desc"}},take:5}),f.prisma.clickEvent.groupBy({by:["os"],where:{...i,os:{not:null}},_count:!0,orderBy:{_count:{os:"desc"}},take:5}),f.prisma.clickEvent.findMany({where:i,take:20,orderBy:{createdAt:"desc"},include:{shortLink:{select:{slug:!0,title:!0}}}})]),w={overview:{linkCount:m,totalClicks:n,clicksLast24h:o,clicksLast7days:p,avgClicksPerLink:m>0?Math.round(n/m):0},topLinks:q.map(a=>({id:a.id,slug:a.slug,title:a.title||a.slug,clicks:a._count.clickEvents})),locations:r.map(a=>({country:a.country||"Unknown",clicks:a._count})),devices:s.map(a=>({device:a.device||"Unknown",clicks:a._count})),browsers:t.map(a=>({browser:a.browser||"Unknown",clicks:a._count})),operatingSystems:u.map(a=>({os:a.os||"Unknown",clicks:a._count})),recentActivity:v.map(a=>({id:a.id,slug:a.shortLink.slug,title:a.shortLink.title,country:a.country,city:a.city,device:a.device,browser:a.browser,os:a.os,timestamp:a.createdAt.toISOString()}))};return(0,d.jsx)(h.default,{data:w})}[f,g]=i.then?(await i)():i,a.s(["default",()=>j,"metadata",0,{title:"Analytics | click.aiesec.my",description:"Comprehensive analytics for your shortened links"}]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__055c2956._.js.map