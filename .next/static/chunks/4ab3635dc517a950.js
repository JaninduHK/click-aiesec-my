(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2531,e=>{"use strict";var r=e.i(43476),t=e.i(5766);e.s(["default",0,({value:e,label:a="Copy",className:s})=>{let d=async()=>{try{await navigator.clipboard.writeText(e),t.default.success("Copied to clipboard")}catch(e){t.default.error(e?.message||"Unable to copy")}};return(0,r.jsx)("button",{onClick:d,className:`rounded-lg border border-stroke px-3 py-1 text-xs font-medium hover:border-primary hover:text-primary dark:border-dark-3 dark:hover:border-primary ${s||""}`,children:a})}])},82054,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(18566),s=e.i(2531);function d(){let e=(0,a.useRouter)(),[d,o]=(0,t.useState)({destination:"",slug:"",title:""}),[l,i]=(0,t.useState)(!1),[n,c]=(0,t.useState)(""),[u,b]=(0,t.useState)(null),m=async e=>{e.preventDefault(),i(!0),c("");try{let e=d.slug||Math.random().toString(36).substring(2,8),r=await fetch("/api/shortlinks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...d,slug:e})}),t=await r.json();if(!r.ok)throw Error(t.error||"Failed to create link");b(`https://click.aiesec.my/${t.slug}`),o({destination:"",slug:"",title:""})}catch(e){c(e.message)}finally{i(!1)}};return(0,r.jsx)("div",{className:"grid grid-cols-1 gap-9",children:(0,r.jsx)("div",{className:"flex flex-col gap-9",children:(0,r.jsxs)("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[(0,r.jsx)("div",{className:"border-b border-stroke px-6.5 py-4 dark:border-strokedark",children:(0,r.jsx)("h3",{className:"font-medium text-black dark:text-white",children:"Link Details"})}),(0,r.jsx)("form",{onSubmit:m,children:(0,r.jsxs)("div",{className:"p-6.5",children:[n&&(0,r.jsx)("div",{className:"mb-4 rounded-md bg-danger bg-opacity-10 p-4",children:(0,r.jsx)("p",{className:"text-sm text-danger",children:n})}),u&&(0,r.jsxs)("div",{className:"mb-6 rounded-md border border-success bg-success bg-opacity-10 p-4",children:[(0,r.jsx)("p",{className:"mb-2 text-sm font-medium text-success",children:"Link created successfully!"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"text",value:u,readOnly:!0,className:"flex-1 rounded-md border border-stroke bg-white px-4 py-2 text-black dark:border-strokedark dark:bg-boxdark dark:text-white"}),(0,r.jsx)(s.default,{value:u})]}),(0,r.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>e.push("/dashboard/links"),className:"rounded-md border border-stroke px-4 py-2 text-sm font-medium text-black hover:shadow-1 dark:border-strokedark dark:text-white",children:"View All Links"}),(0,r.jsx)("button",{type:"button",onClick:()=>b(null),className:"rounded-md bg-primary px-4 py-2 text-sm font-medium text-white hover:bg-opacity-90",children:"Create Another"})]})]}),(0,r.jsxs)("div",{className:"mb-4.5",children:[(0,r.jsxs)("label",{className:"mb-2.5 block text-black dark:text-white",children:["Destination URL ",(0,r.jsx)("span",{className:"text-meta-1",children:"*"})]}),(0,r.jsx)("input",{type:"url",required:!0,placeholder:"https://example.com/your-long-url",value:d.destination,onChange:e=>o({...d,destination:e.target.value}),className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),(0,r.jsxs)("div",{className:"mb-4.5",children:[(0,r.jsx)("label",{className:"mb-2.5 block text-black dark:text-white",children:"Custom Slug (Optional)"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-bodydark",children:"/"}),(0,r.jsx)("input",{type:"text",placeholder:"custom-slug",value:d.slug,onChange:e=>o({...d,slug:e.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")}),className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 pl-8 pr-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),(0,r.jsx)("button",{type:"button",onClick:()=>{let e=Math.random().toString(36).substring(2,8);o({...d,slug:e})},className:"rounded border border-stroke bg-gray px-4 py-2 text-sm font-medium text-black hover:shadow-1 dark:border-strokedark dark:bg-meta-4 dark:text-white",children:"Generate"})]}),(0,r.jsx)("p",{className:"mt-1 text-xs text-bodydark",children:"Leave empty to auto-generate a random slug"})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"mb-2.5 block text-black dark:text-white",children:"Title (Optional)"}),(0,r.jsx)("input",{type:"text",placeholder:"My Campaign Link",value:d.title,onChange:e=>o({...d,title:e.target.value}),className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),(0,r.jsx)("button",{type:"submit",disabled:l||!d.destination,className:"flex w-full justify-center rounded bg-primary p-3 font-medium text-gray disabled:cursor-not-allowed disabled:opacity-50",children:l?"Creating...":"Create Short Link"})]})})]})})})}e.s(["default",()=>d])}]);